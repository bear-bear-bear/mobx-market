{"version":3,"sources":["stores/counter.js","stores/market.js","stores/index.js","hooks/useStore.js","components/Counter.jsx","components/SuperMarketTemplate.jsx","components/ShopItem.jsx","components/ShopItemList.jsx","components/BasketItem.jsx","components/BasketItemList.jsx","components/SuperMarket.jsx","App.jsx","index.jsx"],"names":["counter","observable","rootStore","number","increase","this","decrease","market","selectdItems","findItem","name","find","item","put","price","existingItem","count","push","take","itemToTake","remove","total","reduce","acc","autorun","console","log","generateRoot","Object","values","forEach","store","StoreContext","createContext","StoreProvider","children","Provider","value","useStore","context","useContext","undefined","Error","observer","onClick","SuperMarketTemplate","items","basket","className","ShopItem","onPut","onPutItem","useCallback","map","key","onTake","onTakeItem","style","float","SuperMarket","App","Component","ReactDOM","render","document","getElementById"],"mappings":"qQAgBeA,EAdCC,YAAW,CACvBC,UAAW,KACXC,OAAQ,EAERC,SAJuB,WAKnBC,KAAKF,UAGTG,SARuB,WASC,IAAhBD,KAAKF,QACTE,KAAKF,YCVPI,EAASN,YAAW,CACtBC,UAAW,KACXM,aAAc,GAEdC,SAJsB,SAIbC,GACL,OAAOL,KAAKG,aAAaG,MAAK,SAACC,GAAD,OAAUA,EAAKF,OAASA,MAG1DG,IARsB,SAQlBH,EAAMI,GACN,IAAMC,EAAeV,KAAKI,SAASC,GAC7BM,EAAQX,KAAKH,UAAUF,QAAQG,OAEhCY,EASLA,EAAaC,OAASA,EARlBX,KAAKG,aAAaS,KAAK,CACnBP,OACAI,QACAE,WAQZE,KAxBsB,SAwBjBR,GACD,IAAMS,EAAad,KAAKI,SAASC,GAC5BS,IAILA,EAAWH,QACc,IAArBG,EAAWH,OACXX,KAAKG,aAAaY,OAAOD,KAI7BE,YACA,OAAOhB,KAAKG,aAAac,QAAO,SAACC,EAAD,GAC5B,OAAOA,EADgD,EAAnBT,MAAmB,EAAZE,QAE5C,MAIXQ,aAAQ,kBAAMC,QAAQC,IAAI,gBAAOnB,EAAOc,UAEzBd,Q,OC3CTL,EAAY,CACdF,UACAO,SAEAoB,aAJc,WAIE,IAAD,OACXC,OAAOC,OAAOxB,MAAMyB,SAAQ,SAACC,GACzBA,EAAM7B,UAAY,OAK9BA,EAAUyB,eACKzB,IAEF8B,EAAeC,wBAAc/B,GAE7BgC,EAAgB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAC5B,OAAO,cAACH,EAAaI,SAAd,CAAuBC,MAAOnC,EAA9B,SAA0CiC,KClBtC,SAASG,IACpB,IAAMC,EAAUC,qBAAWR,GAC3B,QAAgBS,IAAZF,EACA,MAAM,IAAIG,MAAM,sDAGpB,OAAOH,ECLX,IAoBeI,eApBC,WACZ,IAAQ3C,EAAYsC,IAAZtC,QAUR,OACI,gCACI,6BAAKA,EAAQG,SACb,wBAAQyC,QAXC,WACb5C,EAAQI,YAUJ,gBACA,wBAAQwC,QARC,WACb5C,EAAQM,YAOJ,sBCDGuC,G,MAfa,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,MAAOC,EAAa,EAAbA,OAClC,OACI,sBAAKC,UAAU,wBAAf,UACI,sBAAKA,UAAU,gBAAf,UACI,8CACCF,KAEL,sBAAKE,UAAU,iBAAf,UACI,0DACCD,U,OCAFE,G,MATE,SAAC,GAA4B,IAA1BvC,EAAyB,EAAzBA,KAAMI,EAAmB,EAAnBA,MAAOoC,EAAY,EAAZA,MAC7B,OACI,sBAAKF,UAAU,YAAYJ,QAAS,kBAAMM,EAAMxC,EAAMI,IAAtD,UACI,6BAAKJ,IACL,gCAAMI,EAAN,iBCFNgC,EAAQ,CACV,CACIpC,KAAM,eACNI,MAAO,KAEX,CACIJ,KAAM,qBACNI,MAAO,KAEX,CACIJ,KAAM,qBACNI,MAAO,MAEX,CACIJ,KAAM,qBACNI,MAAO,MAmBA6B,eAfM,WACjB,IAAQpC,EAAW+B,IAAX/B,OACF4C,EAAYC,uBAAY,SAAC1C,EAAMI,GACjCP,EAAOM,IAAIH,EAAMI,KAClB,CAACP,IAEJ,OACI,8BACKuC,EAAMO,KAAI,SAACzC,GAAD,OACP,wBAAC,EAAD,2BAAcA,GAAd,IAAoB0C,IAAK1C,EAAKF,KAAMwC,MAAOC,aChB5CR,G,MAAAA,aAbI,SAAC,GAAoC,IAAlCjC,EAAiC,EAAjCA,KAAMI,EAA2B,EAA3BA,MAAOE,EAAoB,EAApBA,MAAOuC,EAAa,EAAbA,OACtC,OACI,sBAAKP,UAAU,cAAf,UACI,qBAAKA,UAAU,OAAf,SAAuBtC,IACvB,sBAAKsC,UAAU,QAAf,UAAwBlC,EAAxB,YACA,qBAAKkC,UAAU,QAAf,SAAwBhC,IACxB,qBAAKgC,UAAU,SAASJ,QAAS,kBAAMW,EAAO7C,IAA9C,6CCqBGiC,eA1BQ,WACnB,IAAQpC,EAAW+B,IAAX/B,OAEFiD,EAAaJ,uBAAY,SAAC1C,GAC5BH,EAAOW,KAAKR,KACb,CAACH,IAEJ,OACI,gCACKA,EAAOC,aAAa6C,KAAI,gBAAG3C,EAAH,EAAGA,KAAMI,EAAT,EAASA,MAAOE,EAAhB,EAAgBA,MAAhB,OACrB,cAAC,EAAD,CACIN,KAAMA,EACNI,MAAOA,EACPE,MAAOA,EAEPuC,OAAQC,GADH9C,MAIb,uBACA,oBAAG+C,MAAO,CAAEC,MAAO,SAAnB,UACI,8CADJ,IACgBnD,EAAOc,MADvB,kBCbGsC,EANK,WAChB,OACI,cAAC,EAAD,CAAqBb,MAAO,cAAC,EAAD,IAAkBC,OAAQ,cAAC,EAAD,OCHxDa,E,4JACF,WACI,OACI,gCACI,cAAC,EAAD,IACA,uBACA,cAAC,EAAD,W,GANEC,aAYHD,ICVfE,IAASC,OACL,cAAC,EAAD,UACI,cAAC,EAAD,MAEJC,SAASC,eAAe,W","file":"static/js/main.2fcb34ba.chunk.js","sourcesContent":["import { observable } from 'mobx';\r\n\r\nconst counter = observable({\r\n    rootStore: null,\r\n    number: 1,\r\n\r\n    increase () {\r\n        this.number++;\r\n    },\r\n\r\n    decrease () {\r\n        if (this.number === 1) return;\r\n        this.number--;\r\n    },\r\n});\r\n\r\nexport default counter;\r\n","import { autorun, observable } from \"mobx\";\r\n\r\nconst market = observable({\r\n    rootStore: null,\r\n    selectdItems: [],\r\n\r\n    findItem(name) {\r\n        return this.selectdItems.find((item) => item.name === name);\r\n    },\r\n\r\n    put(name, price) {\r\n        const existingItem = this.findItem(name);\r\n        const count = this.rootStore.counter.number;\r\n\r\n        if (!existingItem) {\r\n            this.selectdItems.push({\r\n                name,\r\n                price,\r\n                count,\r\n            });\r\n            return;\r\n        }\r\n\r\n        existingItem.count += count;\r\n    },\r\n\r\n    take(name) {\r\n        const itemToTake = this.findItem(name);\r\n        if (!itemToTake) {\r\n            return;\r\n        }\r\n\r\n        itemToTake.count--;\r\n        if (itemToTake.count === 0) {\r\n            this.selectdItems.remove(itemToTake);\r\n        }\r\n    },\r\n\r\n    get total() {\r\n        return this.selectdItems.reduce((acc, { price, count }) => {\r\n            return acc + (price * count);\r\n        }, 0);\r\n    },\r\n});\r\n\r\nautorun(() => console.log('총합:', market.total))\r\n\r\nexport default market;\r\n","import { createContext } from \"react\";\r\nimport counter from \"./counter\";\r\nimport market from \"./market\";\r\n\r\nconst rootStore = {\r\n    counter,\r\n    market,\r\n\r\n    generateRoot() {\r\n        Object.values(this).forEach((store) => {\r\n            store.rootStore = this;\r\n        });\r\n    },\r\n};\r\n\r\nrootStore.generateRoot();\r\nexport default rootStore;\r\n\r\nexport const StoreContext = createContext(rootStore);\r\n\r\nexport const StoreProvider = ({ children }) => {\r\n    return <StoreContext.Provider value={rootStore}>{children}</StoreContext.Provider>;\r\n}\r\n","import { useContext } from \"react\";\r\nimport { StoreContext } from \"../stores\";\r\n\r\nexport default function useStore () {\r\n    const context = useContext(StoreContext);\r\n    if (context === undefined) {\r\n        throw new Error(\"useRootStore must be used within RootStoreProvider\");\r\n    }\r\n\r\n    return context;\r\n};\r\n","import React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport useStore from \"../hooks/useStore\";\r\n\r\nconst Counter = () => {\r\n    const { counter } = useStore();\r\n\r\n    const increase = () => {\r\n        counter.increase();\r\n    };\r\n\r\n    const decrease = () => {\r\n        counter.decrease();\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h1>{counter.number}</h1>\r\n            <button onClick={increase}>+1</button>\r\n            <button onClick={decrease}>-1</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default observer(Counter);\r\n","import React from 'react';\r\nimport './SuperMarketTemplate.css';\r\n\r\nconst SuperMarketTemplate = ({ items, basket }) => {\r\n    return (\r\n        <div className=\"super-market-template\">\r\n            <div className=\"items-wrapper\">\r\n                <h2>상품</h2>\r\n                {items}\r\n            </div>\r\n            <div className=\"basket-wrapper\">\r\n                <h2>장바구니</h2>\r\n                {basket}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SuperMarketTemplate;\r\n","import React from 'react';\r\nimport './ShopItem.css';\r\n\r\nconst ShopItem = ({ name, price, onPut }) => {\r\n    return (\r\n        <div className=\"shop-item\" onClick={() => onPut(name, price)}>\r\n            <h4>{name}</h4>\r\n            <div>{price}원</div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ShopItem;\r\n","import React, {useCallback} from 'react';\r\nimport ShopItem from './ShopItem';\r\nimport useStore from '../hooks/useStore';\r\nimport {observer} from \"mobx-react\";\r\n\r\nconst items = [\r\n    {\r\n        name: '생수',\r\n        price: 850,\r\n    },\r\n    {\r\n        name: '신라면',\r\n        price: 900,\r\n    },\r\n    {\r\n        name: '포카칩',\r\n        price: 1500,\r\n    },\r\n    {\r\n        name: '새우깡',\r\n        price: 1000,\r\n    },\r\n];\r\n\r\nconst ShopItemList = () => {\r\n    const { market } = useStore();\r\n    const onPutItem = useCallback((name, price) => {\r\n        market.put(name, price);\r\n    }, [market]);\r\n\r\n    return (\r\n        <div>\r\n            {items.map((item) => (\r\n                <ShopItem {...item} key={item.name} onPut={onPutItem} />\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default observer(ShopItemList);\r\n","import React from 'react';\r\nimport './BasketItem.css';\r\nimport { observer } from 'mobx-react';\r\n\r\nconst BasketItem = ({ name, price, count, onTake }) => {\r\n    return (\r\n        <div className=\"basket-item\">\r\n            <div className=\"name\">{name}</div>\r\n            <div className=\"price\">{price}원</div>\r\n            <div className=\"count\">{count}</div>\r\n            <div className=\"return\" onClick={() => onTake(name)}>\r\n                갖다놓기\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default observer(BasketItem);\r\n","import React, {useCallback} from 'react';\r\nimport BasketItem from './BasketItem';\r\nimport useStore from \"../hooks/useStore\";\r\nimport { observer } from \"mobx-react\";\r\n\r\nconst BasketItemList = () => {\r\n    const { market } = useStore();\r\n\r\n    const onTakeItem = useCallback((name) => {\r\n        market.take(name);\r\n    }, [market]);\r\n\r\n    return (\r\n        <div>\r\n            {market.selectdItems.map(({ name, price, count }) => (\r\n                <BasketItem\r\n                    name={name}\r\n                    price={price}\r\n                    count={count}\r\n                    key={name}\r\n                    onTake={onTakeItem}\r\n                />\r\n            ))}\r\n            <hr />\r\n            <p style={{ float: 'right' }}>\r\n                <b>총합:</b> {market.total}원\r\n            </p>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default observer(BasketItemList);\r\n","import React from 'react';\r\nimport SuperMarketTemplate from './SuperMarketTemplate';\r\nimport ShopItemList from './ShopItemList';\r\nimport BasketItemList from './BasketItemList';\r\n\r\nconst SuperMarket = () => {\r\n    return (\r\n        <SuperMarketTemplate items={<ShopItemList />} basket={<BasketItemList />} />\r\n    );\r\n};\r\n\r\nexport default SuperMarket;\r\n","import React, { Component } from 'react';\r\nimport Counter from './components/Counter';\r\nimport SuperMarket from './components/SuperMarket';\r\n\r\nclass App extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Counter />\r\n                <hr />\r\n                <SuperMarket />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n","// src/index.jsx\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {StoreProvider} from \"./stores\";\n\nReactDOM.render(\n    <StoreProvider>\n        <App />\n    </StoreProvider>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}