(this["webpackJsonpmobx-with-react"]=this["webpackJsonpmobx-with-react"]||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(6),i=n.n(r),s=n(3),u=n(5),a=n(9),o=n(8),j=n(4),b=n(2),h=function(){function e(t){Object(s.a)(this,e),this.number=1,this.rootStore=t,Object(b.m)(this)}return Object(u.a)(e,[{key:"increase",value:function(){this.number++}},{key:"decrease",value:function(){1!==this.number&&this.number--}}]),e}(),l=function(){function e(t){var n=this;Object(s.a)(this,e),this.selectdItems=[],this.rootStore=t,Object(b.m)(this),Object(b.f)((function(){return console.log("\ucd1d\ud569:",n.total)}))}return Object(u.a)(e,[{key:"findItem",value:function(e){return this.selectdItems.find((function(t){return t.name===e}))}},{key:"put",value:function(e,t){var n=this.findItem(e),c=this.rootStore.counter.number;n?n.count+=c:this.selectdItems.push({name:e,price:t,count:c})}},{key:"take",value:function(e){var t=this.findItem(e);t&&(t.count--,0===t.count&&this.selectdItems.remove(t))}},{key:"total",get:function(){return this.selectdItems.reduce((function(e,t){return e+t.price*t.count}),0)}}]),e}(),d=n(1),m=new function e(){Object(s.a)(this,e),this.counter=new h(this),this.market=new l(this)},O=Object(c.createContext)(m),f=function(e){var t=e.children;return Object(d.jsx)(O.Provider,{value:m,children:t})};function v(){var e=Object(c.useContext)(O);if(void 0===e)throw new Error("useRootStore must be used within RootStoreProvider");return e}var x=Object(j.a)((function(){var e=v().counter;return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:e.number}),Object(d.jsx)("button",{onClick:function(){e.increase()},children:"+1"}),Object(d.jsx)("button",{onClick:function(){e.decrease()},children:"-1"})]})})),p=(n(16),function(e){var t=e.items,n=e.basket,c=e.total;return Object(d.jsxs)("div",{className:"super-market-template",children:[Object(d.jsxs)("div",{className:"items-wrapper",children:[Object(d.jsx)("h2",{children:"\uc0c1\ud488"}),t]}),Object(d.jsxs)("div",{className:"basket-wrapper",children:[Object(d.jsx)("h2",{children:"\uc7a5\ubc14\uad6c\ub2c8"}),n,c]})]})}),k=(n(17),function(e){var t=e.name,n=e.price,c=e.onPut;return Object(d.jsxs)("div",{className:"shop-item",onClick:function(){return c(t,n)},children:[Object(d.jsx)("h4",{children:t}),Object(d.jsxs)("div",{children:[n,"\uc6d0"]})]})}),w=[{name:"\uc0dd\uc218",price:850},{name:"\uc2e0\ub77c\uba74",price:900},{name:"\ud3ec\uce74\uce69",price:1500},{name:"\uc0c8\uc6b0\uae61",price:1e3}],y=Object(j.a)((function(){var e=v().market,t=Object(c.useCallback)((function(t,n){e.put(t,n)}),[e]);return Object(d.jsx)("div",{children:w.map((function(e){return Object(d.jsx)(k,{item:e,onPut:t},e.name)}))})})),I=(n(18),Object(j.a)((function(e){var t=e.item,n=e.onTake;return Object(d.jsxs)("div",{className:"basket-item",children:[Object(d.jsx)("div",{className:"name",children:t.name}),Object(d.jsxs)("div",{className:"price",children:[t.price,"\uc6d0"]}),Object(d.jsx)("div",{className:"count",children:t.count}),Object(d.jsx)("div",{className:"return",onClick:function(){return n(t.name)},children:"\uac16\ub2e4\ub193\uae30"})]})}))),C=Object(j.a)((function(){var e=v().market,t=Object(c.useCallback)((function(t){e.take(t)}),[e]);return Object(d.jsx)("div",{children:e.selectdItems.map((function(e){return Object(d.jsx)(I,{item:e,onTake:t},e.name)}))})})),N=function(){var e=v().market;return Object(d.jsxs)("div",{children:[Object(d.jsx)("hr",{}),Object(d.jsxs)("p",{style:{float:"right"},children:[Object(d.jsx)("b",{children:"\ucd1d\ud569:"})," ",e.total,"\uc6d0"]})]})},S=function(){return Object(d.jsx)(p,{items:Object(d.jsx)(y,{}),basket:Object(d.jsx)(C,{}),total:Object(d.jsx)(N,{})})},g=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)(x,{}),Object(d.jsx)("hr",{}),Object(d.jsx)(S,{})]})}}]),n}(c.Component),P=g;i.a.render(Object(d.jsx)(f,{children:Object(d.jsx)(P,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.e6476fee.chunk.js.map